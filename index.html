<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rotten Repo</title>
    <link rel="stylesheet" href="style.scss">
  </head>
  <body>
    <div id="app">
      <h1>Rotten Repo</h1>
      <p>select below</p>
      <form action="">
        <input type="date" id="commit-date">
        <!-- <input type="number" id="commit-hours" min="0" max="24" placeholder="Hours">
        <input type="number" id="commit-minutess" min="0" max="59" placeholder="Minutes">
        <input type="number" id="commit-seconds" min="0" max="59" placeholder="Seconds"> -->
        <input type="time" id="commit-time" step="1">
        <input type="text" id="commit-message">
        <output id="commit-output">git commit --date="YYYY-MM-DD HH:MM:SS" -m "Your commit message"</output>
        <button id="copy-button" onclick="copyToClipboard()">COPY</button>
      </form>
    </div>
    <script>

    const currentDate = new Date().toISOString().split('T')[0];
    document.getElementById('commit-date').value = currentDate;
    console.log(currentDate)

    const now = new Date();
    const currentHour = now.getHours().toString().padStart(2, '0');
    const currentMinute = now.getMinutes().toString().padStart(2, '0');
    const currentSecond = now.getSeconds().toString().padStart(2, '0');
    const currentTime = `${currentHour}:${currentMinute}:${currentSecond}`;
    document.getElementById('commit-time').value = currentTime;


    const commitOutput = document.getElementById('commit-output')
    const commitDate = document.getElementById('commit-date')
    const commitTime = document.getElementById('commit-time')
    const commitMessage = document.getElementById('commit-message')

    let outputMessage

    document.addEventListener(`change`, function(e){
      //e.preventDefault;
      
      console.log('change!')

      outputMessage = `git commit --date="${commitDate.value} ${commitTime.value}" -m "${commitMessage.value}"`

      commitOutput.innerText = outputMessage
    })


    function copyToClipboard() {
    var copyText = commitOutput.innerText;
    
    // // Select the text field
    // copyText.select();
    // copyText.setSelectionRange(0, 99999); /* For mobile devices */
    
    // Copy the text inside the text field
    navigator.clipboard.writeText(copyText);
    
    // Alert the copied text
    alert("Copied the text: " + copyText);
}


    </script>
  </body>
</html>
